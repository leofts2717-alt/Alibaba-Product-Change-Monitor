# 🕵️‍♂️ AliMonitor - 阿里国际站商品排名与变动监控系统

**AliMonitor** 是一个基于 Python + Playwright 的自动化监控工具，专为阿里国际站（Alibaba.com）运营人员设计。它能够实时监控后台商品列表，精准捕捉**新品发布**、**老品重发**、**内容修改**以及**排名被动上升**等动作，并生成详细的 CSV 报表。

> **当前版本**: V18.1 (Pro)
> **核心特性**: 智能去重 / 自动窗口锁定 / 熔断防御 / 格式自修复

---

## ✨ 核心功能

1.  **🔥 智能新品识别逻辑**
    *   **真新品**：新 ID + 新型号 → 标记为 `🔥 新品发布`。
    *   **重复铺货**：新 ID + 旧型号 → 标记为 `♻️ 老品重发`（精准识别马甲包/复制发品）。
    *   **内容修改**：旧 ID + 内容变动 → 标记为 `✏️ (内容变动)`。

2.  **🛡️ 智能熔断防御机制 (Anti-Passive-Shift)**
    *   当检测到大量商品（如 >8 个）同时排名上升时，系统自动识别为**“被动位移”**（通常由删除上方商品导致）。
    *   **动作**：自动启动历史档案核对，如果 Ali 更新时间未变，则自动过滤，**拒绝垃圾数据刷屏**。

3.  **🎯 自动窗口锁定**
    *   无需手动把标签页置顶。脚本启动时会自动遍历浏览器所有标签页，**精准定位并激活**阿里商品管理后台。

4.  **🧹 数据自动清洗**
    *   **自动吸尘**：启动时自动清理 CSV 中的空行（防止 Excel 手动删除留下的坑）。
    *   **日期标准化**：兼容 Excel 自动修改日期格式（如 `2026/1/5` vs `2026-01-05`），防止因格式问题导致误判。

5.  **⚡ 极速与稳定**
    *   基于 CDP 协议连接本地 Chrome，**不封号、不被检测**。
    *   支持**防超时重试**与**万能滚动**，网络卡顿也能稳定运行。

---

## 🛠️ 环境准备 (前置要求)

在使用本工具前，请确保你的电脑满足以下条件：

### 1. 安装 Python
下载并安装 [Python 3.8 或更高版本](https://www.python.org/downloads/)。
*   ⚠️ **注意**：安装时请务必勾选 `Add Python to PATH`。

### 2. 安装依赖库
在终端（CMD 或 PowerShell）中运行以下命令：
```bash
pip install playwright pandas
